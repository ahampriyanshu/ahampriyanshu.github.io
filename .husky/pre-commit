#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ—ï¸ğŸ‘· Running the required checks'

yarn format ||
(
    yarn format:fix
    echo 'âŒâŒ Prettier check failed. Please try committing again!';
    false;
)

yarn lint ||
(
    yarn lint:fix
    echo 'âŒâŒ ESLint check failed. Please make the required changes listed above, add the changes, and try committing again!';
    false; 
)

yarn type-check ||
(
    echo 'âŒâŒ Type check failed. Please make the required changes listed above, add the changes, and try committing again!';
    false;
)

echo 'ğŸ”¨ğŸ”¨ Starting the build process ğŸ”¨ğŸ”¨'

yarn build ||
(
    echo 'âŒâŒ Build failed!';
    false;
)

# If everything passes... Now we can commit
echo 'âœ…âœ… All checks passed successfully. Committing now! âœ…âœ…'