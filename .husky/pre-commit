#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ—ï¸ğŸ‘· Running the required checks'

yarn format ||
(
    yarn format:fix
    echo 'âŒ Prettier check failed.ğŸ› Please try committing again!';
    false;
)

yarn lint ||
(
    yarn lint:fix
    echo 'âŒ ESLint check failed.ğŸ› Please make the required changes listed above, add the changes, and try committing again!';
    false; 
)

yarn type-check ||
(
    echo 'âŒ Type check failed.ğŸ› Please make the required changes listed above, add the changes, and try committing again!';
    false;
)

echo 'âœ… All checks passed successfully'
echo 'ğŸ”¨ Starting the build process'

yarn build ||
(
    echo 'ğŸ˜µğŸ˜– Build failed!';
    false;
)

echo 'ğŸ“¦ Build completed successfully. Committing the changes ğŸ˜„'