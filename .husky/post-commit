#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸšš Pushing the changes to remote repository'

git push -u origin ||
(
    echo 'ğŸ˜µ Push failed. Please pull or rebase from the origin repository and then try committing again!';
    false;
)

echo "ğŸ—‘ï¸ Removing temp build files"

rm -rf build .next || 
(
    echo 'ğŸ” Failed to remove the required directory. Please update ownership permissions and then retry!';
    false;
)

echo 'ğŸ‰ Done! Restarting the Dev Server'

yarn dev || 
(
    echo 'ğŸ˜µ Failed to restart the dev server. Please check the logs and then retry!';
    false;
)